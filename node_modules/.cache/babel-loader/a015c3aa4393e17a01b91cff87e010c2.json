{"ast":null,"code":"import { delay, takeEvery, call, put } from 'redux-saga/effects';\nimport { DefaultActionTypes, AddTodoAction, TodoFactory } from '../actions/default';\nimport request from '../utils';\nexport default function* defaultSaga() {\n  yield takeEvery(DefaultActionTypes.ADD_TODO, addTodo);\n\n  while (true) {\n    console.debug('saga running');\n    yield delay(10000);\n  }\n}\n\nfunction* addTodo(action) {\n  const payload = action.payload;\n  const userId = payload.userId,\n        todo = payload.todo;\n\n  if (todo.get('title') !== '') {\n    console.debug('add todo normally');\n    return;\n  }\n\n  const response = yield call(request, 'https://api.kanye.rest', {// mode: 'no-cors',\n  });\n\n  if (response != null) {\n    const quote = response.quote;\n    yield put(new AddTodoAction({\n      userId,\n      todo: TodoFactory({\n        title: quote\n      })\n    }));\n  }\n}","map":{"version":3,"sources":["/Users/m5/allied-technical-test-5/test-6/src/sagas/default.ts"],"names":["delay","takeEvery","call","put","DefaultActionTypes","AddTodoAction","TodoFactory","request","defaultSaga","ADD_TODO","addTodo","console","debug","action","payload","userId","todo","get","response","quote","title"],"mappings":"AAAA,SACEA,KADF,EAEEC,SAFF,EAGEC,IAHF,EAIEC,GAJF,QAKO,oBALP;AAMA,SACEC,kBADF,EAEEC,aAFF,EAGEC,WAHF,QAIO,oBAJP;AAKA,OAAOC,OAAP,MAAoB,UAApB;AAEA,eAAe,UAAUC,WAAV,GAAwB;AACrC,QAAMP,SAAS,CAACG,kBAAkB,CAACK,QAApB,EAA8BC,OAA9B,CAAf;;AACA,SAAO,IAAP,EAAa;AACXC,IAAAA,OAAO,CAACC,KAAR,CAAc,cAAd;AACA,UAAMZ,KAAK,CAAC,KAAD,CAAX;AACD;AACF;;AAID,UAAUU,OAAV,CACEG,MADF,EAEE;AAAA,QAEEC,OAFF,GAGID,MAHJ,CAEEC,OAFF;AAAA,QAKEC,MALF,GAOID,OAPJ,CAKEC,MALF;AAAA,QAMEC,IANF,GAOIF,OAPJ,CAMEE,IANF;;AASA,MAAIA,IAAI,CAACC,GAAL,CAAS,OAAT,MAAsB,EAA1B,EAA8B;AAC5BN,IAAAA,OAAO,CAACC,KAAR,CAAc,mBAAd;AACA;AACD;;AACD,QAAMM,QAEL,GAAG,MAAMhB,IAAI,CAACK,OAAD,EACZ,wBADY,EAEZ,CACE;AADF,GAFY,CAFd;;AAQA,MAAIW,QAAQ,IAAI,IAAhB,EAAsB;AAAA,UAElBC,KAFkB,GAGhBD,QAHgB,CAElBC,KAFkB;AAKpB,UAAMhB,GAAG,CAAC,IAAIE,aAAJ,CAAkB;AAC1BU,MAAAA,MAD0B;AAE1BC,MAAAA,IAAI,EAAEV,WAAW,CAAC;AAChBc,QAAAA,KAAK,EAAED;AADS,OAAD;AAFS,KAAlB,CAAD,CAAT;AAMD;AACF","sourcesContent":["import {\n  delay,\n  takeEvery,\n  call,\n  put,\n} from 'redux-saga/effects';\nimport {\n  DefaultActionTypes,\n  AddTodoAction,\n  TodoFactory,\n} from '../actions/default';\nimport request from '../utils';\n\nexport default function* defaultSaga() {\n  yield takeEvery(DefaultActionTypes.ADD_TODO, addTodo);\n  while (true) {\n    console.debug('saga running');\n    yield delay(10000);\n  }\n}\n\n\n\nfunction* addTodo(\n  action: AddTodoAction,\n) {\n  const {\n    payload,\n  } = action;\n  const {\n    userId,\n    todo,\n  } = payload;\n\n  if (todo.get('title') !== '') {\n    console.debug('add todo normally');\n    return;\n  }\n  const response: {\n    quote: string;\n  } = yield call(request,\n    'https://api.kanye.rest',\n    {\n      // mode: 'no-cors',\n    }\n  );\n  if (response != null) {\n    const {\n      quote,\n    } = response;\n\n    yield put(new AddTodoAction({\n      userId,\n      todo: TodoFactory({\n        title: quote,\n      })\n    }))\n  }\n}"]},"metadata":{},"sourceType":"module"}